<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org" lang="">
    <head>
        <title th:text="${code.title()}"></title>
        <link rel="stylesheet" href="/css/style.css"/>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    </head>
    <body>
        <div th:replace="navbar :: navbar"></div>
        <div class="main">
            <div class="container limit">
                <div th:replace="codes/code :: codeFragment(code=${code})"></div>
            </div>
            <div th:each="comment:${code.comments()}">
                <div class="container limit">
                    <p th:text="${comment.content()}"></p>
                    <p th:text="${comment.userInformation().username()}"></p>
                </div>
            </div>
            <div class="container limit">
                <form th:action="@{/codes/comment/{codeId}(codeId=${code.id()})}" th:object="${commentForm}" method="post">
                    <textarea id="content" name="content" th:field="*{content}"></textarea>
                    <button type="submit" class="button basic">Comment</button>
                </form>
            </div>
        </div>

    </body>
</html>
